"use strict";(self["webpackChunkautomation_platforms"]=self["webpackChunkautomation_platforms"]||[]).push([[765],{765:function(t,i,o){o.r(i),o.d(i,{default:function(){return l}});var s=function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("div",{staticClass:"setup"},[o("div",{staticClass:"header",staticStyle:{top:"0rem",position:"fixed",height:"2rem","background-color":"white"}},[o("el-page-header",{staticClass:"elpageheader",staticStyle:{"margin-top":"0.5rem"},attrs:{content:"个人信息修改"},on:{back:t.goBack}})],1),o("div",{staticClass:"content"},[o("div",{staticClass:"name",on:{click:function(i){t.nameFormVisible=!0}}},[o("p",[t._v("昵称")]),o("p",[t._v(t._s(t.personinfo.name)),o("i",{staticClass:"el-icon-arrow-right"})])]),o("div",{staticClass:"phone"},[o("p",[t._v("手机号")]),o("p",[t._v(t._s(t.personinfo.phone))])]),o("div",{staticClass:"shimin",on:{click:t.switch_shimin}},[o("p",[t._v("实名认证")]),t._m(0)])]),o("div",{staticClass:"submit"},[o("el-button",{staticStyle:{width:"100%","margin-top":"1rem"},attrs:{type:"primary"},on:{click:t.sumbit_personinfo}},[t._v("保存提交")])],1),o("div",{staticClass:"unlogin"},[o("el-button",{staticStyle:{width:"100%","margin-top":"1rem"},attrs:{type:"primary"},on:{click:t.unlogin}},[t._v("退出登录")])],1),o("el-dialog",{attrs:{title:"修改昵称",width:"90%",visible:t.nameFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(i){t.nameFormVisible=i}}},[o("el-form",{attrs:{model:t.personinfo1}},[o("el-form-item",{attrs:{fixed:"",label:"输入新的昵称：","label-width":"8rem"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.personinfo1.name,callback:function(i){t.$set(t.personinfo1,"name",i)},expression:"personinfo1.name"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:t.cancel_mod}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.submit_mod}},[t._v("确 定")])],1)],1)],1)},e=[function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("p",[o("i",{staticClass:"el-icon-arrow-right"})])}],n={name:"setup",data:function(){return{is_mod_flag:!1,personinfo:{name:"Jack",phone:"13123429876"},personinfo1:{name:"Jack",phone:"13123429876"},nameFormVisible:!1}},created:function(){this.get_userinfo()},methods:{get_userinfo:function(){var t=this;this.$axios.post(this.GLOBAL.serverSrc+"/getuserinfo_basic",{phone:t.$store.state.login_id}).then((function(i){console.log(i.data),t.personinfo=i.data,t.personinfo["pwd"]=t.$store.state.login_pwd,t.personinfo1=t.personinfo})).catch((function(t){console.log(t)}))},goBack:function(){this.$router.push("/user")},cancel_mod:function(){this.nameFormVisible=!1,this.personinfo1=this.personinfo},submit_mod:function(){this.is_mod_flag=!0,this.nameFormVisible=!1,this.personinfo=this.personinfo1},switch_shimin:function(){this.$router.push("/shimin")},sumbit_personinfo:function(){this.is_mod_flag=!1;this.$axios.post(this.GLOBAL.serverSrc+"/saveuserinfobasic",this.personinfo).then((function(t){console.log(t.data),"success"==t.data&&alert("保存成功")})).catch((function(t){console.log(t)}))},unlogin:function(){this.$store.commit("set_loginid","0"),this.$router.push("/user")}}},a=n,r=o(1001),c=(0,r.Z)(a,s,e,!1,null,"3e02d991",null),l=c.exports}}]);
//# sourceMappingURL=765-legacy.4b161791.js.map