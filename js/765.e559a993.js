"use strict";(self["webpackChunkautomation_platforms"]=self["webpackChunkautomation_platforms"]||[]).push([[765],{765:function(t,s,i){i.r(s),i.d(s,{default:function(){return c}});var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"setup"},[i("div",{staticClass:"header",staticStyle:{top:"0rem",position:"fixed",height:"2rem","background-color":"white"}},[i("el-page-header",{staticClass:"elpageheader",staticStyle:{"margin-top":"0.5rem"},attrs:{content:"个人信息修改"},on:{back:t.goBack}})],1),i("div",{staticClass:"content"},[i("div",{staticClass:"name",on:{click:function(s){t.nameFormVisible=!0}}},[i("p",[t._v("昵称")]),i("p",[t._v(t._s(t.personinfo.name)),i("i",{staticClass:"el-icon-arrow-right"})])]),i("div",{staticClass:"phone"},[i("p",[t._v("手机号")]),i("p",[t._v(t._s(t.personinfo.phone))])]),i("div",{staticClass:"shimin",on:{click:t.switch_shimin}},[i("p",[t._v("实名认证")]),t._m(0)])]),i("div",{staticClass:"submit"},[i("el-button",{staticStyle:{width:"100%","margin-top":"1rem"},attrs:{type:"primary"},on:{click:t.sumbit_personinfo}},[t._v("保存提交")])],1),i("div",{staticClass:"unlogin"},[i("el-button",{staticStyle:{width:"100%","margin-top":"1rem"},attrs:{type:"primary"},on:{click:t.unlogin}},[t._v("退出登录")])],1),i("el-dialog",{attrs:{title:"修改昵称",width:"90%",visible:t.nameFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(s){t.nameFormVisible=s}}},[i("el-form",{attrs:{model:t.personinfo1}},[i("el-form-item",{attrs:{fixed:"",label:"输入新的昵称：","label-width":"8rem"}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:t.personinfo1.name,callback:function(s){t.$set(t.personinfo1,"name",s)},expression:"personinfo1.name"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.cancel_mod}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.submit_mod}},[t._v("确 定")])],1)],1)],1)},o=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("p",[i("i",{staticClass:"el-icon-arrow-right"})])}],n={name:"setup",data(){return{is_mod_flag:!1,personinfo:{name:"Jack",phone:"13123429876"},personinfo1:{name:"Jack",phone:"13123429876"},nameFormVisible:!1}},created(){this.get_userinfo()},methods:{get_userinfo(){var t=this;this.$axios.post(this.GLOBAL.serverSrc+"/getuserinfo_basic",{phone:t.$store.state.login_id}).then((function(s){console.log(s.data),t.personinfo=s.data,t.personinfo["pwd"]=t.$store.state.login_pwd,t.personinfo1=t.personinfo})).catch((t=>{console.log(t)}))},goBack(){this.$router.push("/user")},cancel_mod(){this.nameFormVisible=!1,this.personinfo1=this.personinfo},submit_mod(){this.is_mod_flag=!0,this.nameFormVisible=!1,this.personinfo=this.personinfo1},switch_shimin(){this.$router.push("/shimin")},sumbit_personinfo(){this.is_mod_flag=!1;this.$axios.post(this.GLOBAL.serverSrc+"/saveuserinfobasic",this.personinfo).then((function(t){console.log(t.data),"success"==t.data&&alert("保存成功")})).catch((t=>{console.log(t)}))},unlogin(){this.$store.commit("set_loginid","0"),this.$router.push("/user")}}},a=n,r=i(1001),l=(0,r.Z)(a,e,o,!1,null,"3e02d991",null),c=l.exports}}]);
//# sourceMappingURL=765.e559a993.js.map